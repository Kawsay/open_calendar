<% model = [local_assigns[:commentable], comment].compact %>

<%= form_with model: model, id: dom_id_for_records(*model) do |form| %>
  <% if form.object.errors.any? %>
    <div class='alert alert-danger'>
      <% form.object.errors.full_messages.each do |message| %>
        <div><%= message %></div>
      <% end %>
    </div>
  <% end %>

  <%= form.rich_text_area :body %>

  <div class="d-flex justify-content-between">
    <span><%= link_to 'Cancel', comment, class: 'btn btn-sm btn-info' if form.object.persisted? %></span>
    <span><%= form.submit class: 'btn btn-sm btn-primary' %></span>
  </div>
<% end %>
